# 4.7 字节二面


## 消息推送平台介绍一下
**业务的角度**：项目背景可以根据自身的情况来聊聊，说明为什么会产生出这个项目，只要能说得通就没问题。
**技术的角度**：由于下发消息的需求太常见了，邮件/短信/微信服务号/小程序/钉钉/企业微信/push等等这些消息在生产环境下都是有需求去下发的。所以，建设一个**消息推送平台**去下发消息是很正常又很合理的（不然每种消息分布在各个系统里，就很难维护了）

**1**、消息推送平台它承接着各种消息类型的推送，比如短信、邮件、小程序、微信公众号、通知栏PUSH、企业微信、钉钉等等。你可以简单理解为：只要发送消息的，就跟它脱不了关系。
**2**、发送的消息主要给两部分用户，一部分是我们站内的真实用户（比如我们给用户发短信验证码），另一部分是我们内网的消息（比如钉钉的工作提醒、群消息助手）

## 消息积压怎么处理
当出现消息积压的时候，我们的肯定会收到告警（因为一般公司里本身会对消费的进度进行监控），那有了告警了以后我们就可以得出是哪一个渠道的哪种消息在积压中。

得出了哪个渠道的哪种消息在积压我们就可以找正在积压的消息体是什么，通过这一步就能查出是不是在这个时间点上有运营的操作（有可能运营在做活动推送，推了4000W的人群，那这时候的积压是正常的，可以忽略这次的问题）

如果不是运营的活动问题，那这时候就需要去排查是不是调用下发的中间件存在问题，这时候也是去找监控，看各种中间件有无明显的异常。如果有，则及时反馈给中间件的团队去修复。

如果不是中间件的问题，思考自身在近期有没变动改过（大多数的问题都来自于发布变动），如果有，是否可以直接回退原始版本恢复线上的正常运行。

如果不是改动的问题，思考是否需要调整线程池的参数/服务器配置，进而提高消费的能力（系统持续的运行，消费端的正常处理下，很少由于这个问题所


> 原文: <https://www.yuque.com/u37247843/dg9569/ei6pubyomb4getfi>